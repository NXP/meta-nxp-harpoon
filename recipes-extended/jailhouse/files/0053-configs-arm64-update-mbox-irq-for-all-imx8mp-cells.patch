From 9e4ffce03e525f99e2418f20c2d788430e279497 Mon Sep 17 00:00:00 2001
From: Jiafei Pan <Jiafei.Pan@nxp.com>
Date: Fri, 2 Jun 2023 11:30:37 +0800
Subject: [PATCH 53/54] configs: arm64: update mbox irq for all imx8mp cells

Signed-off-by: Jiafei Pan <Jiafei.Pan@nxp.com>
---
 configs/arm64/imx8m-harpoon-config-audio.h |  2 +-
 configs/arm64/imx8m-harpoon-config-avb.h   |  1 +
 configs/arm64/imx8mp-harpoon-freertos.c    | 11 ++++++++++-
 configs/arm64/imx8mp-harpoon-zephyr.c      | 11 ++++++++++-
 4 files changed, 22 insertions(+), 3 deletions(-)

diff --git a/configs/arm64/imx8m-harpoon-config-audio.h b/configs/arm64/imx8m-harpoon-config-audio.h
index b633990e..522edd82 100644
--- a/configs/arm64/imx8m-harpoon-config-audio.h
+++ b/configs/arm64/imx8m-harpoon-config-audio.h
@@ -38,7 +38,7 @@
 		RTOS_AUDIO_IRQCHIP0_BITMAP4),                            \
 	IRQCHIP1(CONFIG_INMATE_IRQCHIPS_ADDR,                     \
 		/* interrupts 160..191 */                                \
-		0,                                                       \
+		RTOS_COMMON_IRQCHIP1_BITMAP1,                            \
 		/* interrupts 192..223 */                                \
 		0,                                                       \
 		/* interrupts 224..255 */                                \
diff --git a/configs/arm64/imx8m-harpoon-config-avb.h b/configs/arm64/imx8m-harpoon-config-avb.h
index 40f0bb67..0a5e1940 100644
--- a/configs/arm64/imx8m-harpoon-config-avb.h
+++ b/configs/arm64/imx8m-harpoon-config-avb.h
@@ -38,6 +38,7 @@
 		RTOS_AVB_IRQCHIP0_BITMAP4),                              \
 	IRQCHIP1(CONFIG_INMATE_IRQCHIPS_ADDR,                     \
 		/* interrupts 160..191 */                                \
+		RTOS_COMMON_IRQCHIP1_BITMAP1 |                           \
 		RTOS_AVB_IRQCHIP1_BITMAP1,                               \
 		/* interrupts 192..223 */                                \
 		0,                                                       \
diff --git a/configs/arm64/imx8mp-harpoon-freertos.c b/configs/arm64/imx8mp-harpoon-freertos.c
index 699585d6..3cda7740 100644
--- a/configs/arm64/imx8mp-harpoon-freertos.c
+++ b/configs/arm64/imx8mp-harpoon-freertos.c
@@ -38,7 +38,16 @@
 		/* interrupts 96..127 */                   \
 		RTOS_COMMON_IRQCHIP0_BITMAP3,              \
 		/* interrupts 128..159 */                  \
-		RTOS_COMMON_IRQCHIP0_BITMAP4)
+		RTOS_COMMON_IRQCHIP0_BITMAP4),             \
+	IRQCHIP1(CONFIG_INMATE_IRQCHIPS_ADDR,              \
+		/* interrupts 160..191 */                  \
+		RTOS_COMMON_IRQCHIP1_BITMAP1,              \
+		/* interrupts 192..223 */                  \
+		0,                                         \
+		/* interrupts 224..255 */                  \
+		0,                                         \
+		/* interrupts 256..287 */                  \
+		0)
 
 /* IVSHMEM PCI */
 #define CONFIG_INMATE_PCI_DEVICES \
diff --git a/configs/arm64/imx8mp-harpoon-zephyr.c b/configs/arm64/imx8mp-harpoon-zephyr.c
index 1e67ebad..0269d8d6 100644
--- a/configs/arm64/imx8mp-harpoon-zephyr.c
+++ b/configs/arm64/imx8mp-harpoon-zephyr.c
@@ -38,7 +38,16 @@
 		/* interrupts 96..127 */                   \
 		RTOS_COMMON_IRQCHIP0_BITMAP3,              \
 		/* interrupts 128..159 */                  \
-		RTOS_COMMON_IRQCHIP0_BITMAP4)
+		RTOS_COMMON_IRQCHIP0_BITMAP4),             \
+	IRQCHIP1(CONFIG_INMATE_IRQCHIPS_ADDR,              \
+		/* interrupts 160..191 */                  \
+		RTOS_COMMON_IRQCHIP1_BITMAP1,              \
+		/* interrupts 192..223 */                  \
+		0,                                         \
+		/* interrupts 224..255 */                  \
+		0,                                         \
+		/* interrupts 256..287 */                  \
+		0)
 
 /* IVSHMEM PCI */
 #define CONFIG_INMATE_PCI_DEVICES \
-- 
2.34.1

